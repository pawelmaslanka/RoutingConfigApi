{
  "router-id": "192.0.2.1",
  "bgp": {
    "sessions": {
      "peer1": {
        "peer": {
          "address": "192.0.2.3",
          "as": 65010,
          "port": 179
        },
        "address-family": {
          "ipv4": {
            "policy-in": "MAIN-POLICY",
            "policy-out": "OUT-POLICY"
          }
        },
        "local": {
          "address": "192.0.2.2",
          "as": 65000
        }
      },
      "peer3": {
        "peer": {
          "as": 62000
        },
        "address-family": {
          "ipv6": {
            "policy-in": "SUB-POLICY",
            "policy-out": "OUT-POLICY"
          }
        },
        "local": {
          "address": {
            "link-local": "eth1"
          },
          "as": 65000,
          "port": 179
        }
      }
    },
    "policy-list": {
      "MAIN-POLICY": {
        "rule-10": {
          "seq": 10,
          "if-match": {
            "net-in": {
              "prefix-v4-list": "LOCAL-PREFIXES"
            }
          },
          "then": {
            "action": {
              "call-next": {
              }
            }
          }
        },
        "rule-20": {
          "seq": 20,
          "if-match": {
          },
          "then": {
            "action": "permit",
            "local-preference-set": 200
          }
        },
        "rule-30": {
          "seq": 30,
          "if-match": {
            "community-eq": {
              "65000:200": {},
              "65001:201": {}
            },
            "as-path-in": {
              "as-path-list": "transit-as-path"
            }
          },
          "then": {
            "action": {
              "call-next": {
                "rule": "rule-40"
              }
            }
          }
        },
        "rule-40": {
          "seq": 40,
          "if-match": {
            "net-type-eq": "ipv6"
          },
          "then": {
            "action": "permit"
          }
        }
      },
      "OUT-POLICY": {
        "rule-10": {
          "seq": 10,
          "if-match": {
            "as-path-in": [
              300, 100, 200, 200, 200
            ]
          },
          "then": {
            "action": "permit",
            "next-hop-self-set": true
          }
        }
      },
      "SUB-POLICY": {
        "rule-10": {
          "seq": 10,
          "if-match": {
            "as-path-eq": {
              "as-path-list": "strict-as-path"
            }
          },
          "then": {
            "action": "permit",
            "med-set": 100,
            "as-path-prepend": {
              "pattern": "65001..65012"
            }
          }
        }
      }
    },
    "prefix-v4-list": {
      "LOCAL-PREFIXES": {
        "192.168.0.0/16": {},
        "172.168.0.0/18": {
          "ge": 18,
          "le": 22
        },
        "172.2.2.1/23": {
          "le": 31
        }
      }
    },
    "prefix-v6-list": {
      "LOCAL-PREFIXES": {
        "2001:db8::/31": {
          "ge": 32
        }
      }
    },
    "community-list": {
      "STANDARD-COMMS": {
        "65010:1000": {},
        "65010:2000": {}
      }
    },
    "as-path-list": {
      "transit-as-path": [
        65001
      ],
      "strict-as-path": [
        65002,
        65002,
        65002
      ],
      "external-as-path": [
        65003
      ]
    }
  }
}
