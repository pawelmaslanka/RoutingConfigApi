{
  "router-id": "192.0.2.1",
  "bgp": {
    "sessions": {
      "peer1": {
        "peer": {
          "address": "192.0.2.3",
          "as": 65010,
          "port": 179
        },
        "address-family": {
          "ipv4": {
            "policy-in": "MAIN_POLICY",
            "policy-out": "OUT_POLICY"
          }
        },
        "local": {
          "address": "192.0.2.2",
          "as": 65000
        }
      },
      "peer3": {
        "peer": {
          "as": 62000,
          "address": "2001::1"
        },
        "address-family": {
          "ipv6": {
            "next-hop-self": true,
            "policy-in": "SUB_POLICY",
            "policy-out": "OUT_POLICY"
          }
        },
        "local": {
          "address": {
            "link-local": "eth1"
          },
          "as": 65000,
          "port": 179
        }
      }
    },
    "policy-list": {
      "MAIN_POLICY": {
        "term-10": {
          "if-match": {
            "net-in": {
              "prefix-v4-list": "LOCAL_PREFIXES"
            }
          },
          "then": {
            "action": "call-next"
          }
        },
        "term-20": {
          "if-match": {
          },
          "then": {
            "action": "permit",
            "local-preference-set": 200
          }
        },
        "term-30": {
          "if-match": {
            "community-eq": [
              "65000:200",
              "65001:201"
            ],
            "as-path-in": {
              "as-path-list": "TRANSIT_AS_PATH"
            }
          },
          "then": {
            "action": "call-next"
          }
        },
        "term-40": {
          "if-match": {
            "net-type-eq": "ipv6"
          },
          "then": {
            "action": "permit"
          }
        }
      },
      "OUT_POLICY": {
        "term-10": {
          "if-match": {
            "as-path-in": [
              300, 100, 200, 200, 200
            ]
          },
          "then": {
            "action": "permit"
          }
        }
      },
      "SUB_POLICY": {
        "term-10": {
          "if-match": {
            "as-path-eq": {
              "as-path-list": "STRICT_AS_PATH"
            },
            "large-community-eq": {
              "large-community-list": "LARGE_COMMS"
            }
          },
          "then": {
            "action": "permit",
            "med-set": 100
          }
        }
      }
    },
    "prefix-v4-list": {
      "LOCAL_PREFIXES": {
        "192.168.0.0/16": {},
        "172.168.0.0/18": {
          "ge": 18,
          "le": 22
        },
        "172.2.2.1/23": {
          "le": 31
        }
      }
    },
    "prefix-v6-list": {
      "LOCAL_PREFIXES": {
        "2001:db8::/31": {
          "ge": 32
        }
      }
    },
    "community-list": {
      "STANDARD_COMMS": [ "65010:2000", "65010:1000" ]
    },
    "large-community-list": {
      "LARGE_COMMS": [ "4294967295:4294967295:4294967295" ]
    },
    "as-path-list": {
      "TRANSIT_AS_PATH": [
        65001
      ],
      "STRICT_AS_PATH": [
        65002,
        65002,
        65002
      ],
      "EXTERNAL_AS_PATH": [
        65003
      ]
    }
  }
}
